<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Search</title>
</head>
<body>
    <h2>Search for Movies</h2>
    
    <form id="search-form" action="/movies/search/view" method="get" enctype="application/x-www-form-urlencoded">
        <label for="genre">Genre:</label>
        <select id="genre" name="genre">
            <option value="">Select a genre</option>
            <option value="Action">Action</option>
            <option value="Comedy">Comedy</option>
            <option value="Drama">Drama</option>
            <option value="Horror">Horror</option>
            <option value="Romance">Romance</option>
            <option value="Thriller">Thriller</option>
            <option value="Adventure">Adventure</option>
            <option value="Science Fiction">Science Fiction</option>
            <option value="Fantasy">Fantasy</option>
            <option value="Animation">Animation</option>
        </select>
        <br><br>
    
        <label for="year">Release Year:</label>
        <input type="number" id="year" name="year" min="1900" max="2025" placeholder="e.g. 2020">
        <br><br>
    
        <label for="actor">Actor:</label>
        <input type="text" id="actor" name="actor" placeholder="e.g. Leonardo Di Caprio">
        <br><br>
    
        <label for="min_rating">Min Rating:</label>
        <input type="number" id="min_rating" name="min_rating" step="0.1" min="0" max="10" placeholder="e.g. 7.5">
        <br><br>
    
        <label for="max_rating">Max Rating:</label>
        <input type="number" id="max_rating" name="max_rating" step="0.1" min="0" max="10" placeholder="e.g. 9.0">
        <br><br>
    
        <label for="min_votes">Min Votes Number:</label>
        <input type="number" id="min_votes" name="min_votes" min="10" placeholder="e.g. 10">
        <br><br>
    
        <label for="language">Language:</label>
        <select id="language" name="language">
            <option value="">-- Any Language --</option>
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="ja">Japanese</option>
        </select>
        <br><br>
    
        <label for="sort_by">Sort by:</label>
        <select id="sort_by" name="sort_by">
            <option value="popularity.desc">Most Popular</option>
            <option value="release_date.desc">Newest First</option>
            <option value="vote_average.desc">Highest Rated</option>
        </select>
        <br><br>
        
        <button type="submit">Search</button>
    </form>
    
    <script>
        document.getElementById('search-form').addEventListener('submit', function(e) {
            e.preventDefault();
    
            Array.from(e.target.elements).forEach(element => {
                if (element.value === "") {
                    element.setAttribute('disabled', 'true');
                } else {
                    if (element.name === "year" || element.name === "min_votes") {
                            element.value = parseInt(element.value);
                    } else if (element.name === "max_rating") {
                        element.value = parseFloat(element.value);
                    }
                }
            });
    
            e.target.submit();
    
            setTimeout(() => {
                Array.from(e.target.elements).forEach(element => {
                    element.removeAttribute('disabled');
                });
            }, 100);
        });
    </script>
    
    
    
    
</body>
</html>
